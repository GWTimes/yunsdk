# 增值业务

## 概览

提供视频云存储服务，包括云回放（全时录像、事件录像）、倍数播放、视频下载等。

## SDK接口（VAS）

## 1. 套餐/订单

### 1.1 查询套餐列表
###### 定义描述
| 名称  | 版本  | 描述     |
| --- | --- | --- |
| queryPackgeList | 1.0.0 | 查询套餐列表 |
###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| --- | --- | --- | --- |
| countryCode | String | 是 |  |
| serviceType | String |  是 |  |
| responseHandler | Object | 是 |  |
###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |


### 1.2 查询可转移套餐服务
###### 定义描述
| 名称  | 版本  | 描述     |
| --- | --- | --- |
| queryCanTransferPackge | 1.0.0 | 查询可转移套餐服务 |
###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| --- | --- | --- | --- |
| deviceId | String | 是 |  |
| responseHandler | Object | 是 |  |
###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |


### 1.3 转移套餐服务
###### 定义描述
| 名称  | 版本  | 描述     |
| --- | --- | --- |
| transferPackge | 1.0.0 | 转移套餐服务 |



###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| --- | --- | --- | --- |
| deviceId | String | 是 |  |
| serviceId | String |  是 |  |
| responseHandler | Object | 是 |  |
###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |


### 1.4 生成订单
###### 定义描述
| 名称  | 版本  | 描述     |
| --- | --- | --- |
| createOrder | 1.0.0 | 生成订单 |



###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| --- | --- | --- | --- |
| deviceId | String | 是 |  |
| packageNo | String |  是 |  |
| couponCode | String |  是 |  |
| timezone | TimeZone |  是 |  |
| responseHandler | Object | 是 |  |
###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |


### 1.5 生成支付签名信息
###### 定义描述
| 名称  | 版本  | 描述     |
| --- | --- | --- |
| createPayment | 1.0.0 | 生成支付签名信息 |



###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| --- | --- | --- | --- |
| orderId | String | 是 |  |
| payType | String |  是 |  |
| terminalOS | String |  是 |  |
| responseHandler | Object | 是 |  |
###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |


### 1.6 获取支付结果
###### 定义描述
| 名称  | 版本  | 描述     |
| --- | --- | --- |
| queryPaymentResult | 1.0.0 | 获取支付结果 |



###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| --- | --- | --- | --- |
| orderId | String | 是 |  |
| payType | String |  是 |  |
| terminalOS | String |  是 |  |
| responseHandler | Object | 是 |  |
###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |


### 1.7 查询订单列表
###### 定义描述
| 名称  | 版本  | 描述     |
| --- | --- | --- |
| queryOrderList | 1.0.0 | 查询订单列表 |



###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| --- | --- | --- | --- |
| deviceId | String | 是 |  |
| packageNo | String |  是 |  |
| timezone | TimeZone |  是 |  |
| couponCode | String |  是 |  |
|? responseHandler | Object | 是 |  |


## 2. 云回放/事件
###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |


### 2.1 获取云存视频列表
###### 定义描述
| 名称  | 版本  | 描述     |
| --- | --- | --- |
| getVideoList | 1.0.0 | 获取云存视频列表 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| --- | --- | --- | --- |
| deviceId | String | 是 |  |
| startTime | String |  是 |  |
| endTime | String |  是 |  |
| responseHandler | Object | 是 |  |
###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |


### 2.2 获取云存回放m3u8列表
###### 定义描述
| 名称  | 版本  | 描述     |
| --- | --- | --- |
| videoPlayback | 1.0.0 | 获取云存回放m3u8列表 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| --- | --- | --- | --- |
| deviceId | String | 是 |  |
| dateTime | String |  是 |  |
| responseHandler | Object | 是 |  |
###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |


### 2.3 倍速回放
###### 定义描述
| 名称  | 版本  | 描述     |
| --- | --- | --- |
| videoSpeedPlay | 1.0.0 | 倍速回放 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| --- | --- | --- | --- |
| deviceId | String | 是 |  |
| startTime | String |  是 |  |
| speed | Int |  是 |  |
| responseHandler | Object | 是 |  |
###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |


### 2.4 下载视频m3u8列表
###### 定义描述
| 名称  | 版本  | 描述     |
| --- | --- | --- |
| downloadVideo | 1.0.0 | 下载视频m3u8列表 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| --- | --- | --- | --- |
| deviceId | String | 是 |  |
| timezone | TimeZone |  是 |  |
| dateTime | String |  是 |  |
| responseHandler | Object | 是 |  |
###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |


### 2.5 事件列表查询
###### 定义描述
| 名称  | 版本  | 描述     |
| --- | --- | --- |
| getEventList | 1.0.0 | 事件列表查询 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| --- | --- | --- | --- |
| deviceId | String | 是 |  |
| startTime | String |  是 |  |
| endTime | String |  是 |  |
| lastPage | Int |  是 |  |
| responseHandler | Object | 是 |  |
###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |


### 2.6 事件删除
###### 定义描述
| 名称  | 版本  | 描述     |
| --- | --- | --- |
| deleteEvent | 1.0.0 | 事件删除 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| --- | --- | --- | --- |
| deviceId | String | 是 |  |
| eventIds: [Int | responseHandler |  是 |  |
|: Object ||


## 3. 优惠券/兑换码
###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |


### 3.1 查看用户已经领取的优惠券列表
###### 定义描述
| 名称  | 版本  | 描述     |
| --- | --- | --- |
| queryOwnedCouponList | 1.0.0 | 查看用户已经领取的优惠券列表 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| --- | --- | --- | --- |
| responseHandler | Object |是 |  |
###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |


### 3.2 推送促销活动的信息列表
###### 定义描述
| 名称  | 版本  | 描述     |
| --- | --- | --- |
| queryPromotionList | 1.0.0 | 推送促销活动的信息列表 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| --- | --- | --- | --- |
| responseHandler | Object |是 |  |
###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |


### 3.3 领取优惠券，支持一键领取多张
###### 定义描述
| 名称  | 版本  | 描述     |
| --- | --- | --- |
| receiveCoupons | 1.0.0 | 领取优惠券，支持一键领取多张 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| --- | --- | --- | --- |
| couponIds: [String | 是 |  |
| responseHandler | Object | 是 |  |
###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |


### 3.4 获取可用的优惠券列表
###### 定义描述
| 名称  | 版本  | 描述     |
| --- | --- | --- |
| queryAvaliableCouponList | 1.0.0 | 获取可用的优惠券列表 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| --- | --- | --- | --- |
| couponIds: [String | 是 |  |
| responseHandler | Object | 是 |  |
###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |


### 3.5 查询兑换码对应的商品（优惠活动的套餐信息）信息
###### 定义描述
| 名称  | 版本  | 描述     |
| --- | --- | --- |
| queryVoucher | 1.0.0 | 查询兑换码对应的商品（优惠活动的套餐信息）信息 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| --- | --- | --- | --- |
| voucherCode | String | 是 |  |
| responseHandler | Object | 是 |  |
###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |


### 3.6 兑换码兑换对应的商品（优惠活动的套餐信息）
###### 定义描述
| 名称  | 版本  | 描述     |
| --- | --- | --- |
| useVoucher | 1.0.0 | 兑换码兑换对应的商品（优惠活动的套餐信息） |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| --- | --- | --- | --- |
| deviceId | String | 是 |  |
| voucherCode | String |  是 |  |
| timezone | TimeZone |  是 |  |
| terminalOS | String |  是 |  |
| responseHandler | Object | 是 |  |
###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |


## 开发指南

* [iOS 增值业务SDK](ios/增值业务.md)
* [Android 增值业务SDK](Android/增值业务.md)

## 参考

//流程

## 常见问题
