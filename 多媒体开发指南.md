# 多媒体指南

## 概览

播放器负责提供编解码及渲染的功能，底层依赖于p2p库的推拉流及音视频同步功能

###  1. 播放器框架

###  2. 播放器

####  2.1 基础播放器



##### 2.1.1 视频编码

###### 定义描述
| 名称 | 版本 | 描述 |
| --- | --- | --- |
| videoEncode | 1.0.0 | 视频编码  |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| --- | --- | --- | --- |
| vRawFrame | VRawFrame | 是 | 原始视频帧 |

###### 返回参数
| 类型 | 非空 | 描述 |
| --- | --- | --- |
| VPackage | 否 | 已编码视频帧 |



##### 2.1.2 视频解码

###### 定义描述
| 名称 | 版本 | 描述 |
| --- | --- | --- |
| videoDecode | 1.0.0 | 视频解码  |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| --- | --- | --- | --- |
| vPackage | VPackage | 是 | 已编码视频帧 |

###### 返回参数
| 类型 | 非空 | 描述 |
| --- | --- | --- |
| VRawFrame | 否 | 原始视频帧 |



##### 2.1.3 音频编码

###### 定义描述
| 名称        | 版本  | 描述     |
| ----------- | ----- | -------- |
| audioEncode | 1.0.0 | 音频编码 |

###### 请求参数
| 参数      | 类型      | 非空 | 描述       |
| --------- | --------- | ---- | ---------- |
| aRawFrame | ARawFrame | 是   | 原始音频帧 |

###### 返回参数
| 类型     | 非空 | 描述         |
| -------- | ---- | ------------ |
| APackage | 否   | 已编码音频帧 |



##### 2.1.4 音频解码

###### 定义描述
| 名称        | 版本  | 描述     |
| ----------- | ----- | -------- |
| audioDecode | 1.0.0 | 音频解码 |

###### 请求参数
| 参数     | 类型     | 非空 | 描述         |
| -------- | -------- | ---- | ------------ |
| aPackage | APackage | 是   | 已编码音频帧 |

###### 返回参数
| 类型      | 非空 | 描述       |
| --------- | ---- | ---------- |
| ARawFrame | 否   | 原始音频帧 |



##### 2.1.5 录像

###### 定义描述
| 名称        | 版本  | 描述     |
| ----------- | ----- | -------- |
| startRecord | 1.0.0 | 音频解码 |

###### 请求参数
| 参数              | 类型   | 非空 | 描述             |
| ----------------- | ------ | ---- | ---------------- |
| path              | String | 否   | 指定录像保存路径 |
| completionHandler | Object | 否   | 录像结束回调     |

###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
| Void | 否   | 无返回值 |



##### 2.1.6 录像

###### 定义描述
| 名称       | 版本  | 描述     |
| ---------- | ----- | -------- |
| stopRecord | 1.0.0 | 停止录像 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述   |
| ---- | ---- | ---- | ------ |
|      |      |      | 无参数 |

###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |



##### 2.1.7 截图

###### 定义描述
| 名称           | 版本  | 描述         |
| -------------- | ----- | ------------ |
| takeScreenshot | 1.0.0 | 视频画面截图 |

###### 请求参数
| 参数              | 类型   | 非空 | 描述             |
| ----------------- | ------ | ---- | ---------------- |
| path              | String | 否   | 指定录像保存路径 |
| completionHandler | Object | 否   | 录像结束回调     |

###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |



##### 2.1.8 回音消除

###### 定义描述

| 名称             | 版本  | 描述     |
| ---------------- | ----- | -------- |
| noiseSuppression | 1.0.0 | 回音消除 |

###### 请求参数
| 参数              | 类型   | 非空 | 描述             |
| ----------------- | ------ | ---- | ---------------- |
| inData            | Data   | 是   | 输入音频 |

###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
| Data     |  是    | 回音消除后的音频 |

##### 2.1.9 开始

###### 定义描述
| 名称 | 版本  | 描述     |
| ---- | ----- | -------- |
| play | 1.0.0 | 开始播放 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述     |
| ---- | ---- | ---- | -------- |
|      |      |      | 无参数 |

###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |

##### 2.1.10 暂停

###### 定义描述
| 名称  | 版本  | 描述     |
| ----- | ----- | -------- |
| pause | 1.0.0 | 暂停播放 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| ---- | ---- | ---- | ---- |
|      |      |      | 无参数 |

###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |

##### 2.1.11 停止

###### 定义描述
| 名称  | 版本  | 描述     |
| ----- | ----- | -------- |
| stop | 1.0.0 | 停止播放 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| ---- | ---- | ---- | ---- |
|      |      |      | 无参数 |

###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |

##### 2.1.12 静音

###### 定义描述
| 名称  | 版本  | 描述     |
| ----- | ----- | -------- |
| mute | 1.0.0 | 静音 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| ---- | ---- | ---- | ---- |
|      |      |      | 无参数 |

###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |

##### 2.2.13 开始对讲

###### 定义描述
| 名称  | 版本  | 描述     |
| ----- | ----- | -------- |
| startTalk | 1.0.0 | 开始对讲 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| ---- | ---- | ---- | ---- |
|      |      |      | 无参数 |

###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |

##### 2.2.14 结束对讲

###### 定义描述
| 名称  | 版本  | 描述     |
| ----- | ----- | -------- |
| stopTalk | 1.0.0 | 结束对讲 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| ---- | ---- | ---- | ---- |
|      |      |      | 无参数 |

###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |

##### 2.1.15 状态监听

###### 定义描述
| 名称  | 版本  | 描述     |
| ----- | ----- | -------- |
| didUpdateState | 1.0.0 | 状态变更回调 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| ---- | ---- | ---- | ---- |
| state | AVState | 是 | 播放器状态 |

###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |

#### 2.2 监控播放器：基础播放器

#### 2.3 回放播放器：基础播放器

##### 2.3.1 拖动

###### 定义描述
| 名称  | 版本  | 描述     |
| ----- | ----- | -------- |
| seek | 1.0.0 | 指定时间播放 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| ---- | ---- | ---- | ---- |
| time | CMTime | 是 | 指定时间 |

###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |

##### 2.3.2 快进

###### 定义描述
| 名称  | 版本  | 描述     |
| ----- | ----- | -------- |
| fastForward | 1.0.0 | 快进播放 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| ---- | ---- | ---- | ---- |
|      |      |       | 无参数 |

###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |

##### 2.3.3 取消快进

###### 定义描述
| 名称  | 版本  | 描述     |
| ----- | ----- | -------- |
| cancelFastForward | 1.0.0 | 取消快进播放 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| ---- | ---- | ---- | ---- |
|      |      |       | 无参数 |

###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |

#### 2.4 音视频通话：基础播放器

### 3. 播放组件

#### 3.1 视频渲染

###### 定义描述
| 名称  | 版本  | 描述     |
| ----- | ----- | -------- |
| draw | 1.0.0 | 视频渲染 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| ---- | ---- | ---- | ---- |
| frame | VRawFrame | 是 | 原始视频帧 |
| rect | CGRect | 是 | 渲染区域 |

###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |

#### 3.2 音频播放

###### 定义描述
| 名称  | 版本  | 描述     |
| ----- | ----- | -------- |
| play | 1.0.0 | 音频播放 |

###### 请求参数
| 参数 | 类型 | 非空 | 描述 |
| ---- | ---- | ---- | ---- |
| audio | ARawFrame | 是 | 原始音频帧 |

###### 返回参数
| 类型 | 非空 | 描述     |
| ---- | ---- | -------- |
|      |      | 无返回值 |

## 开发指南
* [iOS 用户管理SDK](ios/多媒体.md)
* [Android 用户管理SDK](Android/多媒体.md)

## 参考
//流程

## 常见问题
