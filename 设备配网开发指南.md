# 设备配网开发指南

## 概览
### 1. 通用配网流程
1. APP <- 建立连接 -> 设备   
2. APP -> 发送配网信息 -> 设备
3. APP <- 收到配网信息 <- 设备
4. APP <- 已上线广播 <- 设备
5. APP -> 账户关联设备 -> 服务器

### 2. 蓝牙
#### 2.1 开启蓝牙扫描
```swift
func startScanBluetooth(_ didDiscoverHandler:(([Bluetooth]) -> Void)?)
```
#### 2.2 关闭蓝牙扫描
```swift
func stopScanBluetooth()
```
#### 2.3 连接蓝牙设备
```swift
func connectBluetooth(_ bluetooth: Bluetooth)
```
#### 2.4 断开蓝牙设备
```swift
func disconnectBluetooth(_ bluetooth: Bluetooth)
```
#### 2.5 发送蓝牙消息
```swift
func sendMessage(_ wifiName: String, wifiPwd: String, to bluetooth: Bluetooth)
```

### 3. AP
#### 3.1 发送局域网消息
```swift
func sendMessage(_ wifiName: String, wifiPwd: String, to host: String, port: Int)
```

### 4. 有线
#### 4.1 扫描局域网设备
```swift
func startScanLanDevice(_ didDiscoverHandler:(([LanDevice]) -> Void)?)
```
#### 4.2 停止扫描局域网设备
```swift
func stopScanLanDevice()
```

### 5. 智能联机
#### 5.1 声波/simpleConfig/空中发包
```swift
func startSmartlink(_ wifiName: String, wifiPwd: String
```

### 6. 扫码
#### 6.1 生成二维码 (生成二维码图片)
```swift
func createQRCode(_ wifiName: String, wifiPwd: String, userId: String, size: CGSize) -> UIImage?
```
#### 6.2 扫描二维码 (获取设备id和支持的配网方式)
```swift
func scanQRCode(_ preView: UIView, cropRect: CGRect, completionHandler:([AnyHashable: Any]) -> Void)
```

## 开发指南
[iOS 用户管理SDK](ios/设备配网.md)
[Android 用户管理SDK](Android/设备配网.md)

## 参考


## 常见问题
