# 账户体系开发指南

## 概览

​        基于平台提供的账号体系，开发者可以实现自有APP开发中的注册、登录、忘记密码、登出、修改用户信息等功能。

​        客户端集成平台账号SDK即可使用。账号SDK支持唤起登录页面，包括账号注册、登录、登出、忘记密码、多语言切换、修改头像、修改昵称、注销账号等功能，并支持在此页面基础上做UI风格的修改。 

### 1. 注册
#### 1.1 手机号
```swift
func register(withPhoneNumber phoneNumber: String, password: String, verificationCode: String, responseHandler:(([AnyHashable : Any]) -> Void)?)
```
#### 1.2 邮箱
```swift
func register(withEmail email: String, password: String, verificationCode: String, responseHandler:(([AnyHashable : Any]) -> Void)?)
```
### 2. 登录
#### 2.1 手机号
```swift
func login(withPhoneNumber phoneNumber: String, password: String, responseHandler:(([AnyHashable : Any]) -> Void)?)
```
#### 2.2 邮箱
```swift
func login(withEmail email: String, password: String, responseHandler:(([AnyHashable : Any]) -> Void)?)
```
#### 2.3 第三方登录
```swift
func login(withThirdParty openId: String, password: String, extraInfo:[AnyHashable : Any],  responseHandler:(([AnyHashable : Any]) -> Void)?)
```
#### 2.4 账号登录
```swift
func login(withAccountId accountId: String, password: String, responseHandler:(([AnyHashable : Any]) -> Void)?)
```

### 3. 退出登录
```swift
func logout(withAccountId accountId: String, sessionId: String, responseHandler:(([AnyHashable : Any]) -> Void)?)
```
### 3. 删除账号
```swift
func deregister(withAccountId accountId: String, sessionId: String, responseHandler:(([AnyHashable : Any]) -> Void)?) {}
```
### 4. 账户信息管理
#### 4.1 获取个人信息
```swift
func getUserInfo(withAccountId accountId: String, sessionId: String, responseHandler:(([AnyHashable : Any]) -> Void)?)
```
#### 4.2 修改个人信息
```swift
func modifyUserInfo(withAccountId accountId: String, sessionId: String, modifiedInfo: [AnyHashable : Any], responseHandler:(([AnyHashable : Any]) -> Void)?)
```
#### 4.3 重置密码
```swift
func resetPassword(withAccountId accountId: String, oldPassword: String, newPassword: String, verificationCode: String, responseHandler:(([AnyHashable : Any]) -> Void)?)
```
### 5. 分享体系
#### 5.1 分享设备
```swift
func shareDevice(_ deviceId: String, to accountId: String, responseHandler:(([AnyHashable : Any]) -> Void)?)
```

#### 5.2 访客管理（增/删/改/查）
```swift
func getDeviceVisitors(_ deviceId: String, accountId: String, responseHandler:(([AnyHashable : Any]) -> Void)?)
```

#### 5.3 权限管理
```swift
func setVisitorPermission(_ deviceId: String, accountId: String, responseHandler:(([AnyHashable : Any]) -> Void)?)
```

### 6. 设备关联
#### 6.1 添加设备
```swift
func addDevice(_ deviceId: String, accountId: String, responseHandler:(([AnyHashable : Any]) -> Void)?)
```
#### 6.2 删除设备
```swift
func delDevice(_ deviceId: String, accountId: String, responseHandler:(([AnyHashable : Any]) -> Void)?)
```
### 7. 消息推送
#### 7.1 注册（上传离线推送token）
```swift
func registerForRemoteNotifications(_ deviceToken: String, responseHandler:(([AnyHashable : Any]) -> Void)?)
```
#### 7.2 监听
```swift
func observerForRemoteNotifications(_ observer: (([AnyHashable : Any]) -> Void)?)
```
### 8. 获取验证码
#### 8.1 邮箱验证码
```swift
func getVerificationCode(forEmail email: String, responseHandler:(([AnyHashable : Any]) -> Void)?)
```
#### 8.2 手机验证码
```swift
func getVerificationCode(forPhoneNumber phoneNumber: String, responseHandler:(([AnyHashable : Any]) -> Void)?)
```
## 开发指南
* [iOS 用户管理SDK](ios/用户管理.md)
* [Android 用户管理SDK](Android/用户管理.md)

## 参考
//流程

## 常见问题
